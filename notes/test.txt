DB 연동 테스트
- 테스트는 다른 테스트와 격리되어야 한다.
- 테스트는 반복해서 실행할 수 있어야 한다.

DB 연동 테스트에서 테스트 실행할 때마다 이전에 남아있는 테스트 데이터는 어떻게 지워야 하나?
DELETE SQL을 사용해도 되지만,
테스트 실행도중 예외가 발생하거나 종료되면 DELETE SQL 호출을 못할 수도 있다.

트랜잭션과 롤백 전략을 사용하면 된다.
테스트 종료 후 트랜잭션을 강제로 롤백하면 데이터가 깔끔하게 제거된다.
만약 중간에 테스트가 실패해서 롤백을 못해도 상관없다.
트랜잭션을 커밋하지 않았기 때문에 데이터가 저장되지 않는다.

for each test
- 트랜잭션 시작 (beforeEach, PlatformTransactionManager)
- 테스트 실행
- 트랜잭션 롤백 (afterEach)

테스트에서 실행되는 리포지토리 메소드들은 JdbcTemplate 등 트랜잭션 동기화 매니저를 사용하는 기술을 사용하기 때문에
트랜잭션 시작한 커넥션과 동일한 커넥션을 사용하게 된다.
